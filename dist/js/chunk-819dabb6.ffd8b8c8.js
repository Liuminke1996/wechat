(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-819dabb6"],{"2b6a":function(t,n,i){},"83c7":function(t,n,i){"use strict";i.d(n,"a",function(){return s}),i.d(n,"b",function(){return o}),i.d(n,"c",function(){return l}),i.d(n,"d",function(){return r}),i.d(n,"e",function(){return u}),i.d(n,"f",function(){return d}),i.d(n,"g",function(){return f}),i.d(n,"h",function(){return m});var c=i("cb4b"),e=i("1f75"),a=e["a"]+"/idletalk/v1";function s(t){return Object(c["b"])("".concat(a,"/collection"),t)}function o(t){return Object(c["b"])("".concat(a,"/comment"),t)}function l(t){return Object(c["b"])("".concat(a,"/fabulous"),t)}function r(t){return Object(c["a"])("".concat(a,"/getAllTopicList"),t)}function u(t){return Object(c["a"])("".concat(a,"/getCommentList"),t)}function d(t){return Object(c["a"])("".concat(a,"/getIdleTalkInfo"),t)}function f(t){return Object(c["a"])("".concat(a,"/getIdleTalkList"),t)}function m(t){return Object(c["a"])("".concat(a,"/getTopicList"),t)}},ecf8:function(t,n,i){"use strict";var c=i("2b6a"),e=i.n(c);e.a},ee0c:function(t,n,i){"use strict";i.r(n);var c=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"articleList"},[i("div",{staticClass:"head"},[i("van-nav-bar",{attrs:{"left-arrow":"","right-text":"发布"},on:{"click-left":t.onClickLeft,"click-right":function(n){t.toPath("addArticle")}}}),i("div",{staticClass:"title"},[t._v("\n      "+t._s(t.dataList[0].topicName)+"\n      "),i("img",{staticClass:"title-img",attrs:{src:"/img/article/bg.png"}})])],1),i("div",{staticClass:"content"},t._l(t.dataList,function(n,c){return i("div",{key:c,staticClass:"my-card",on:{click:function(i){t.toPath({name:"articleDetail",params:{id:n.id}})}}},[i("div",{staticClass:"left"},[i("div",{staticClass:"item-title"},[t._v("\n            "+t._s(n.content)+"\n          ")]),i("div",{staticClass:"item-btn"},[i("div",{staticClass:"item-btn-left"},[i("img",{staticClass:"head-img-sm",attrs:{src:n.userHeadimg}}),t._v(t._s(n.userNickname)+"\n            ")]),i("div",{staticClass:"item-btn-right",on:{click:function(i){i.stopPropagation(),t.collectionFun(n,c)}}},[0==n.isCollection?i("img",{staticClass:"zan-img",attrs:{src:"/img/article/star0.png"}}):i("img",{staticClass:"zan-img",attrs:{src:"/img/article/star1.png"}}),t._v("\n                "+t._s(n.collection)+"\n            ")])])]),i("div",{staticClass:"right"},[i("img",{attrs:{src:n.imgs}})])])}),0)])},e=[],a=i("83c7"),s={name:"articleList",components:{},data:function(){return{topicId:null,dataList:[],pageNumber:1,pageSize:10,isHaveNext:!0}},mounted:function(){},created:function(){this.getIdleTalkListFun();var t=this;window.onscroll=function(){var n=document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.clientHeight||document.body.clientHeight,c=document.documentElement.scrollHeight||document.body.scrollHeight;n+i==c&&t.getIdleTalkListFun()}},methods:{getIdleTalkListFun:function(){var t=this,n=this;if(n.topicId=n.$route.params.id,this.isHaveNext){var i={topicId:n.topicId,pageNumber:n.pageNumber,pageSize:n.pageSize};Object(a["g"])(i).then(function(n){var i=n.data,c=i.dataList;0==c.length?t.isHaveNext=!1:(t.dataList=t.dataList.concat(c),t.pageNumber++)})}},collectionFun:function(t,n){var i=this,c=this.dataList[n],e={id:t.id};Object(a["a"])(e).then(function(t){0==c.isCollection?(c.collection++,c.isCollection=1):(c.collection--,c.isCollection=0),i.$toast.success({message:"操作成功",duration:1e3})})},onClickLeft:function(){this.$util.goBack(this)},toPath:function(t){this.$router.push(t)}}},o=s,l=(i("ecf8"),i("2877")),r=Object(l["a"])(o,c,e,!1,null,null,null);r.options.__file="index.vue";n["default"]=r.exports}}]);